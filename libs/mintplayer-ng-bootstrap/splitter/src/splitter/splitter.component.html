<div class="d-flex w-100 root" [class]="[directionClass(), splitterClass()]" bsUserAgent>
    <ng-content></ng-content>
    @for (panel of panels(); let index = $index; let last = $last; track panel) {
        @let widthStylesValue = widthStyles();
        @let heightStylesValue = heightStyles();

        <div class="split-panel overflow-hidden" [class.flex-none]="isResizing()" #splitPanel [style.width]="widthStylesValue | bsElementAt:index" [style.height]="heightStylesValue | bsElementAt:index">
            <ng-template [cdkPortalOutlet]="panel.portal"></ng-template>
        </div>
        @if (!last) {
            <div class="divider" bsUserAgent [class.hover]="touchedDivider() === divider" #divider (mousedown)="startResizeMouse($event, index, index + 1)" (touchstart)="startResizeTouch($event, index, index + 1, divider)" (touchmove)="onTouchMove($event)" (touchend)="onTouchEnd($event)"></div>
        }
    }
</div>
