<div bsDropdown [hasBackdrop]="true" [closeOnClickOutside]="false">
    <button bsDropdownToggle class="btn btn-primary">{{ selectedItems.length }} selected</button>
    <div *bsDropdownMenu class="bg-white mw-250px p-3 border rounded shadow">
        <ng-container *ngTemplateOutlet="template"></ng-container>
        <hr class="my-2">
        <label *ngFor="let item of items" class="form-check">
            <input type="checkbox" [checked]="selectedItems.indexOf(item) > -1" (change)="itemChange(item, $event)" class="form-check-input">
            <span class="form-check-label">{{ item }}</span>
        </label>
    </div>
</div>