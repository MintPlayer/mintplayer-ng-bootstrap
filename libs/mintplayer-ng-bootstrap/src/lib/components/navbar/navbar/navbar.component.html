<nav #nav class="navbar position-fixed navbar-dark bg-dark" [class]="expandClass$ | async">
    <div class="container-fluid">
        <div class="d-flex" [class]="wAutoClass$ | async" [class.w-100]="isSmallMode$ | async">
            <ng-content select="bs-navbar-brand"></ng-content>
            <div class="flex-end d-flex tw" [class]="dNoneClass$ | async">
                <button (click)="toggleExpanded()" title="Expand/collapse menu" class="align-self-center" [class.navbar-toggler]="!expandButtonTemplate" [class.bg-transparent]="expandButtonTemplate" [class.shadow-none]="expandButtonTemplate" [class.border-0]="expandButtonTemplate" type="button">
                    <ng-container *ngTemplateOutlet="expandButtonTemplate ?? defaultExpandButton; context: { $implicit: (isExpanded$ | async) ? 'open' : 'closed' }"></ng-container>
                </button>
            </div>
        </div>
        <ng-content></ng-content>
    </div>
</nav>

<ng-template #defaultExpandButton>
    <span class="navbar-toggler-icon"></span>
</ng-template>